2009-01-05  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Fixed "Already under version control" for add. Offcourse we need to integrate
	Adam's GUI stuff, but this is for my testing ;-)

2009-01-05  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Recursive top down might be a better idea than bottom up.

2009-01-05  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/dbus/service.py:
	Forgot to update exit call to match DBus style.
	
	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Added recursive refresh status, there are some bugs though.

2009-01-04  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/dbus/service.py:
	* nautilussvn/lib/dbus/status_monitor.py:
	* nautilussvn/lib/dbus/svn_client.py:
	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	* nautilussvn/lib/vcs/svn.py:
	Implemented a temporary hack to make the context menu use the status cache. 
	We have to refactor the SVN class and also the DBus stuff in the near future.

2009-01-03  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	I spoke too soon, really trust me I tested it this time.

2009-01-03  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Ignore that.... now it should though!

2009-01-03  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/dbus/service.py:
	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	DBus restart menu item now working.

2009-01-03  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/dbus/status_monitor.py:
	* nautilussvn/lib/vcs/svn.py:
	And yet another logic error, that for some reason I didn't catch earlier.

2009-01-02  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/dbus/service.py:
	* nautilussvn/lib/dbus/status_monitor.py:
	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	* nautilussvn/lib/vcs/svn.py:
	Create an actual NautilusSvn service to compliment the StatusMonitor,
	also added code to start the DBus service when it's not running.

2009-01-02  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/data/icons/hicolor/scalable/actions/nautilussvn-bug.s
	vg:
	* nautilussvn/data/icons/hicolor/scalable/actions/nautilussvn-dbus.
	svg:
	* nautilussvn/data/icons/hicolor/scalable/actions/nautilussvn-run.s
	vg:
	* nautilussvn/data/icons/hicolor/scalable/actions/nautilussvn-stop.
	svg:
	* nautilussvn/lib/dbus/status_monitor.py:
	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	* nautilussvn/lib/vcs/svn.py:
	Uh.... I think I just squashed all major bugs, another logic error and
	well we are using DBus now... so.. uh... yeah

2009-01-02  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Don't have to write to a file to notice this behavior.

2009-01-02  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/dbus/status_monitor.py:
	DBus needs to be made thread-aware using thread_init calls.
	
	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	* nautilussvn/lib/vcs/svn.py:
	Still having some PySVN problems with threading so create a client when
	it is going to be used, not as an instance variable. Still means we'll
	have cache problems (two threads accesing the same cache).
	
	* nautilussvn/tests/dbus/dbus_threading.py:
	* nautilussvn/tests/dbus/status_monitor_add_watch.py:
	* nautilussvn/tests/dbus/status_monitor_listener.py:
	Some more tests (this should be done in a single class, but it helped me 
	enough for now).

2009-01-02  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/dbus/__init__.py:
	* nautilussvn/lib/dbus/status_monitor.py:
	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Started implementing DBus to get around the threading problems, doesn't 
	work yet but I hope I can get it to work tomorrow.
	
	* nautilussvn/lib/vcs/__init__.py:
	* nautilussvn/lib/vcs/svn.py:
	Moved the StatusMonitor to the SVN module.
	
	* nautilussvn/tests/dbus/status_monitor_exit.py:
	A script to properly stop the DBus service.

2009-01-01  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Forgot to add watch for the path so only an initial status check is done. 
	after adding a path. Also removed some VCS related code from the inotify
	handler (tiny little bit of VCS abstraction).
	* nautilussvn/lib/vcs/svn.py:
	FIXME: multi-threading problems galore, PySVN can only be used by one
	thread at a time and I at the moment it's being used frmo multiple threads.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/decorators.py:
	time as a function name conflicts with time module, so changed to timeit.
	
	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Forgot to register that watches were already added and I was wondering why
	even though I had implemented a cache everything was slower ;-) Fixed.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	This is being caused by threading problems and that's not a valid 
	workaround since we have to monitor folders below. A valid workaround
	is moving everything status checks out-of-process.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/decorators.py:
	Updated module docstring.
	
	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Ok, some major bug (status went all the way up to /). I don't understand
	why this didn't manifest sooner.
	
	* nautilussvn/lib/vcs/svn.py:
	Once again had the indices set wrong [0] not [-1].

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	* nautilussvn/lib/vcs/svn.py:
	The status_with_cache function had a logic error. Also modified the last
	element to be the one for the path, as it was before (and as PySVN does it).

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* generate_documentation.sh:
	Added --graphs all to generate diagrams etc.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* generate_documentation.sh:
	gnome-open started annoying me when the documentation was already open
	
	* api:
	Added svn:ignore so generated documentation doesn't show up in status.
	

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Some indentation problem with Epydoc (literal command was not seen).

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/api/api:
	Deleted API documentation, shouldn't be in the repo. We'll upload it
	somewhere later.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* generate_documentation.sh:
	* nautilussvn/api
	First generation of the Epydoc documentation.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/debug/ipython_view.py:
	* nautilussvn/lib/decorators.py:
	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	* nautilussvn/lib/extensions/nautilus/__init__.py:
	* nautilussvn/lib/helper.py:
	* nautilussvn/lib/settings.py:
	* nautilussvn/lib/vcs/svn.py:
	* nautilussvn/ui/__init__.py:
	* nautilussvn/ui/about.py:
	* nautilussvn/ui/dialog.py:
	* nautilussvn/ui/unlock.py:
	Updated all docstrings and other inline documentation to conform to EpyDoc.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/helper.py:
	* nautilussvn/lib/settings.py:
	Replaced "dict" with "dictionary" for comments.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	* nautilussvn/lib/helper.py:
	* nautilussvn/lib/settings.py:
	* nautilussvn/lib/vcs/svn.py:
	* nautilussvn/ui/callback.py:
	* nautilussvn/ui/commit.py:
	Updated all Epydoc comments to match the same style. See code review.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/vcs/svn.py:
	Oops, comments for status_cache had some errors in them. Fixed.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Fixed minor spelling error.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/vcs/svn.py:
	Updated commentary describing how the cache is build so everybody knows and
	also so I don't have trouble rading the code 6 months from now.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Improved the way watches are added. Changed all status calls to work
	properly with the new cache (which is reverted).
	
	* nautilussvn/lib/vcs/svn.py:
	Cache is reverted, so fixing all indexes. is_ and has_ functions now use
	status_with_cache instead of status.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/vcs/svn.py:
	Fixed tiny, but with serious consequences, logic error. Cache should now
	be properly bypassed when invalidate is set to True.

2008-12-31  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	NautilusSvn.py is in a state of flux right now (might be broken), but 
	committing anyways to save changes.
	
	* nautilussvn/lib/vcs/svn.py:
	Reverted SVN.status back to r387 but marked it deprecated and added 
	function status_with_cache to replace it (entirely refactored). I'm too 
	worried replacing status right now would break other stuff (and bother 
	Adam in the process). 

2008-12-30  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Updated workaround for the multiple emblem problem, now it seems to work.

2008-12-30  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Ok, I've thought up of a possible workaround for the threading issues.

2008-12-30  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Added temporary hack in get_background_items back in again to try and work
	around the multiple emblem problem (because it seems to work).

2008-12-30  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	* nautilussvn/lib/vcs/svn.py:
	Implemented cache to significantly improve performance. Also fixed bug
	which resulted in watches being added recursvily on the parent
	directory for every direct child item (see code review for more info),
	that was obviously a major performance drag.
	
	Not 100% sure if the status cache is implemently correctly, it's quite ugly.

2008-12-29  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Described multiple emblem bug in detail, added sequence diagram to describe
	the interaction with StatusMonitor, modified debug statements and improved
	several comments.

2008-12-28  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Whoops, updated comment. I meant counterlog.

2008-12-28  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/data/icons/hicolor/scalable/actions/nautilussvn-async
	hronous.svg:
	Forgot to add emblem.

2008-12-28  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	Added all the information I have in my head about the problems with 
	threading within a Nautilus Python extension including a debug callback
	demonstrating the problems.

2008-12-28  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* packages/ubuntu/debian/do-nautilussvn-restart-nautilus:
	* packages/ubuntu/debian/nautilussvn-restart-required.update-notifi
	er:
	* packages/ubuntu/debian/postinst:
	* packages/ubuntu/debian/postrm:
	* setup.py:
	Command needs to point to an executable (+x) shell script.

2008-12-28  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* packages/ubuntu/debian/postinst:
	Whoops, some leftover stuff from apt-file and some other errors.

2008-12-28  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* packages/ubuntu/debian/nautilussvn-restart-required.update-notifi
	er:
	* packages/ubuntu/debian/postinst:
	* packages/ubuntu/debian/postrm:
	* setup.py:
	Added an update notification to be displayed after installing.

2008-12-28  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* nautilussvn/lib/extensions/nautilus/NautilusSvn.py:
	I think I understand the bug now invalidate_extension_info doesn't always
	lead to a update_file_info, but no idea why.

2008-12-28  Bruce van der Kooij  <brucevdkooij@gmail.com>

	* setup.py:
	Forgot to modify the icon theme name back to hicolor.


