#summary This page describes the context menu entries and the conditions for them to appear.
#labels Phase-Design

= Table of contents =
<wiki:toc max_depth="1" />

= Notes =

  * The term "file" is used loosely to indicate both files and directories.
  * When a directory is selected sometimes a condition needs to be checked recursively.
  * Added files count as "under version control" (versioned) too.

= Menu structure =
Based on [http://code.google.com/p/nautilussvn/wiki/TortoiseSVN TortoiseSVN's menus]. 

== Topmenu ==
|| *Menu entry*             || *Condition*                                 || *Recursive* || 
|| Checkout                 || not a working copy AND directory selected   || no ||
|| Update                   || `1..*` versioned file(s) AND NOT added      || no || 
|| Commit                   || `1..*` (added OR modified file(s))          || yes || 
|| NautilusSvn              || always                                      ||  || 

== Submenu NautilusSvn ==
|| *Menu entry*             || *Condition*                                 || *Recursive* || 
|| Diff                     || 2 files OR modified file                    || no`[1]` || 
|| Show log                 || 1 versioned file AND NOT added              || no || 
|| Repo-browser             ||                                             || || 
|| Check for modifications  ||                                             || || 
|| Revision graph           ||                                             || || 
|| ---------------------    ||                                             || || 
|| Add                      || `1..*` unversioned file(s)                  || yes || 
|| Add to ignore list       || only `1..*` unversioned file(s)             || no || 
|| ---------------------    ||                                             || || 
|| Update to revision       ||                                             || || 
|| Rename                   || 1 versioned file                            || no || 
|| Delete                   || `1..*` versioned file(s)                    || no || 
|| Revert                   || `1..*` (added OR modified file(s))          || yes || 
|| Get lock                 ||                                             || || 
|| ---------------------    ||                                             || || 
|| Branch/tag               ||                                             || || 
|| Switch                   ||                                             || || 
|| Merge                    ||                                             || || 
|| ---------------------    ||                                             || || 
|| Blame                    || 1 versioned file AND NOT added              || no || 
|| ---------------------    ||                                             || || 
|| Create patch             ||                                             || || 
|| Properties               || `1..*` (versioned file(s))                  || no || 
|| ---------------------    ||                                             || || 
|| Help                     || always                                      || || 
|| Settings                 || always                                      || || 
|| About                    || always                                      || || 

`[1]` It's possible to do directory diffs, so maybe in a later version.

= Mockup =
The icons used in the mockup are from the default GNOME iconset or the Tango iconset. Rename was based on Gedit's logo. The lock was based on the screenlock icon from GNOME. The logo is a combination of Nautilus's logo (a nautilus shell) and Tango's file manager icon.

[http://nautilussvn.googlecode.com/svn/wiki/images/mockups/mockup_context_menu.png]